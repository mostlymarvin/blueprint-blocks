!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);o(1),o(2),o(3),o(4),o(5),o(6)},function(e,t,o){e.exports=o.p+"blocks.style.build.css"},function(e,t,o){e.exports=o.p+"blocks.editor.build.css"},function(e,t){var o=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var r=wp.i18n.__,s=wp.blocks.registerBlockType,i=wp.components,a=i.SelectControl,l=i.ToggleControl,u=i.TextControl,p=(i.Panel,i.PanelBody),c=i.PanelRow,h=i.RangeControl,b=i.FontSizePicker,m=wp.element,g=m.Component,d=(m.Fragment,m.RawHTML),k=wp.editor,C=k.RichText,w=k.InspectorControls,f=k.PanelColorSettings,v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state=e.constructor.getInitialState(e.props.attributes.selectedPost),e.getBlueprintApi=e.getBlueprintApi.bind(e),e.getBlueprintApi(),e.getOptions=e.getOptions.bind(e),e.getOptions(),e.getInspectorControls=e.getInspectorControls.bind(e),e.getBlockSettings=e.getBlockSettings.bind(e),e.getBookMedia=e.getBookMedia.bind(e),e.onChangeBGColor=e.onChangeBGColor.bind(e),e.onChangeBlurb=e.onChangeBlurb.bind(e),e.onChangeButtonsLabel=e.onChangeButtonsLabel.bind(e),e.onChangeFlexDirection=e.onChangeFlexDirection.bind(e),e.onChangeReadMoreLink=e.onChangeReadMoreLink.bind(e),e.onChangeReadMoreLinkBGColor=e.onChangeReadMoreLinkBGColor.bind(e),e.onChangeReadMoreLinkColor=e.onChangeReadMoreLinkColor.bind(e),e.onChangeReadMoreText=e.onChangeReadMoreText.bind(e),e.onChangeSelectBook=e.onChangeSelectBook.bind(e),e.onChangeShowBuyLinks=e.onChangeShowBuyLinks.bind(e),e.onChangeShowReadMore=e.onChangeShowReadMore.bind(e),e.onChangeShowSampleLinks=e.onChangeShowSampleLinks.bind(e),e.onChangeTagline=e.onChangeTagline.bind(e),e.onChangeTextColor=e.onChangeTextColor.bind(e),e.onChangeTitlePrefix=e.onChangeTitlePrefix.bind(e),e.onChangeMaxWidthInner=e.onChangeMaxWidthInner.bind(e),e.onChangeTitleFontSize=e.onChangeTitleFontSize.bind(e),e.onChangeTitleColor=e.onChangeTitleColor.bind(e),e.onChangeTitlePrefixColor=e.onChangeTitlePrefixColor.bind(e),e.onChangeShowTagline=e.onChangeShowTagline.bind(e),e.onChangeButtonAlign=e.onChangeButtonAlign.bind(e),e.readMoreButton=e.readMoreButton.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g),o(t,null,[{key:"getInitialState",value:function(e){return{posts:[],selectedPost:e,post:{}}}}]),o(t,[{key:"getBlueprintApi",value:function(){var e=this;wp.api.models.Status.extend({urlRoot:wpApiSettings.root+"blueprint-mmk/v1/blueprint",defaults:{type:"blueprint"}});(new(wp.api.collections.Statuses.extend({url:wpApiSettings.root+"blueprint-mmk/v1/blueprint"}))).fetch().then(function(t){e.props.setAttributes({mbtActive:t.mbt_active})})}},{key:"getOptions",value:function(){var e=this;wp.api.models.Post.extend({urlRoot:wpApiSettings.root+"wp/v2/mbt_book",defaults:{type:"mbt_book"}});(new(wp.api.collections.Posts.extend({url:wpApiSettings.root+"wp/v2/mbt_book"}))).fetch().then(function(t){if(t&&0!==e.state.selectedPost){var o=t.find(function(t){return t.id==e.state.selectedPost});e.setState({post:o,posts:t})}else e.setState({posts:t})})}},{key:"getBookMedia",value:function(e){var t=this;new wp.media.model.Attachment.get(e).fetch().then(function(e){t.props.setAttributes({cover:e.url})})}},{key:"getInspectorControls",value:function(e){var t=[{value:this.props.attributes.colorTitle,onChange:this.onChangeTitleColor,label:r("Title Color","blueprint-blocks")}];return this.props.attributes.titlePrefix&&(t=[{value:this.props.attributes.colorTitle,onChange:this.onChangeTitleColor,label:r("Title Color","blueprint-blocks")},{value:this.props.attributes.colorTitlePrefix,onChange:this.onChangeTitlePrefixColor,label:r("Title Prefix Color","blueprint-blocks"),help:"Defaults to same color as Title"}]),wp.element.createElement(w,null,wp.element.createElement(p,{title:"Main Settings",initialOpen:!0,className:"blueprint-panel-body"},wp.element.createElement(c,{className:"book-select"},wp.element.createElement(a,{onChange:this.onChangeSelectBook,value:this.props.attributes.selectedPost,label:r("Select a Book"),options:e,className:"book-select"})),this.props.attributes.cover&&wp.element.createElement(c,{className:"  "},wp.element.createElement(l,{label:"Reverse Cover Position",help:"Default displays cover to left",checked:!!this.props.attributes.flexReverse,onChange:this.onChangeFlexDirection,className:"flex-direction"})),"full"===this.props.attributes.align&&wp.element.createElement(c,{className:"width-control "},wp.element.createElement(h,{label:"Max width of Inner Content",help:"maximum width in px, defaults to 1020, applies only to blocks set to display Full Width",value:this.props.attributes.maxWidthInner,onChange:this.onChangeMaxWidthInner,min:0,max:2e3})),wp.element.createElement(c,{className:""},wp.element.createElement(l,{label:"Show Book Sample Links?",help:"By default, shows audiobook and book sample links under the cover, if the links are available.",checked:!!this.props.attributes.showSampleLinks,onChange:this.onChangeShowSampleLinks})),wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(l,{label:"Show Buy Links?",checked:!!this.props.attributes.showBuyLinks,onChange:this.onChangeShowBuyLinks}),this.props.attributes.showBuyLinks&&wp.element.createElement(u,{placeholder:"Now Available From",label:"Buy Link Section Label",value:this.props.attributes.buttonsLabel,onChange:this.onChangeButtonsLabel,keepPlaceholderOnFocus:!0})),wp.element.createElement(f,{title:r("Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.colorText,onChange:this.onChangeTextColor,label:r("Text Color","blueprint-blocks")},{value:this.props.attributes.colorBG,onChange:this.onChangeBGColor,label:r("Background Color","blueprint-blocks")}]})),wp.element.createElement(p,{title:"Title and Tagline Settings",initialOpen:!1,className:"blueprint-panel-body"},wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(l,{label:"Show Tagline?",checked:!!this.props.attributes.showTagLine,onChange:this.onChangeShowTagline}),wp.element.createElement(u,{label:"Add Prefix to Title",help:"ie, 'Coming Soon' or 'Just Released', etc.",placeholder:"Coming Soon, etc.",value:this.props.attributes.titlePrefix,onChange:this.onChangeTitlePrefix,keepPlaceholderOnFocus:!0}),wp.element.createElement(b,{fontSizes:[{name:r("X-Small Title"),slug:"title-extra-small",size:"16"},{name:r("Small Title"),slug:"title-small",size:"20"},{name:r("Normal Title"),slug:"title-normal",size:"24"},{name:r("Large Title"),slug:"title-large",size:"28"},{name:r("X-Large Title"),slug:"title-extra-large",size:"32"}],value:this.props.attributes.titleFontSize,fallbackFontSize:"24",onChange:this.onChangeTitleFontSize})),wp.element.createElement(f,{title:r("Title Colors","blueprint-blocks"),initialOpen:!0,colorSettings:t})),wp.element.createElement(p,n({title:"Read More Link Settings",initialOpen:!1,className:"blueprint-panel-body"},"initialOpen",!1),wp.element.createElement(c,{className:"display-block  "},wp.element.createElement(l,{label:"Show 'Read More' Link?",checked:!!this.props.attributes.showReadMore,onChange:this.onChangeShowReadMore})),this.props.attributes.showReadMore&&wp.element.createElement(c,{className:"display-block"},wp.element.createElement(u,{placeholder:"Read More",value:this.props.attributes.readMoreText,onChange:this.onChangeReadMoreText,keepPlaceholderOnFocus:!0}),wp.element.createElement(u,{placeholder:this.props.attributes.link,value:this.props.attributes.readMoreLink,onChange:this.onChangeReadMoreLink,keepPlaceholderOnFocus:!0}),wp.element.createElement(a,{label:"Align Button:",value:this.props.attributes.alignReadMore,options:[{label:"Inline",value:"btn-inline"},{label:"Left",value:"btn-left"},{label:"Center",value:"btn-center"},{label:"Right",value:"btn-right"}],onChange:this.onChangeButtonAlign}),wp.element.createElement(f,{title:r("Button Colors","blueprint-blocks"),initialOpen:!0,colorSettings:[{value:this.props.attributes.colorReadMoreLinkBG,onChange:this.onChangeReadMoreLinkBGColor,label:r("Read More Button Background Color","blueprint-blocks")},{value:this.props.attributes.colorReadMoreLink,onChange:this.onChangeReadMoreLinkColor,label:r("Read More Button Text Color","blueprint-blocks")}]}))))}},{key:"getBlockSettings",value:function(e,t){return this.props.attributes.title?null:wp.element.createElement("div",{className:"blueprint-block-settings"},wp.element.createElement("div",{className:"blueprint-block-message"},t),wp.element.createElement(a,{onChange:this.onChangeSelectBook,value:this.props.attributes.selectedPost,label:r("Select a Book"),options:e,className:"book-select"}))}},{key:"onChangeBGColor",value:function(e){this.props.setAttributes({colorBG:e})}},{key:"onChangeBlurb",value:function(e){this.props.setAttributes({customBlurb:e})}},{key:"onChangeButtonsLabel",value:function(e){this.props.setAttributes({buttonsLabel:e})}},{key:"onChangeFlexDirection",value:function(){this.props.attributes.flexReverse?this.props.setAttributes({flexReverse:!1}):this.props.setAttributes({flexReverse:!0})}},{key:"onChangeButtonAlign",value:function(e){this.props.setAttributes({alignReadMore:e})}},{key:"onChangeReadMoreLink",value:function(e){this.props.setAttributes({readMoreLink:e})}},{key:"onChangeReadMoreLinkBGColor",value:function(e){this.props.setAttributes({colorReadMoreLinkBG:e})}},{key:"onChangeReadMoreLinkColor",value:function(e){this.props.setAttributes({colorReadMoreLink:e})}},{key:"onChangeReadMoreText",value:function(e){this.props.setAttributes({readMoreText:e})}},{key:"onChangeSelectBook",value:function(e){var t=this.state.posts.find(function(t){return t.id==parseInt(e)});this.setState({selectedPost:parseInt(e),post:t});var o=t.mbt_book_teaser[0],n=t.mbt_sample_audio[0],r="https://read.amazon.com/kp/embed?asin="+t.mbt_unique_id_asin[0]+"&preview=newtab",s=t.mbt_buybuttons[0],i=t.mbt_editor_style_url,a=t.mbt_book_image_id[0];this.getBookMedia(a),this.props.setAttributes({selectedPost:parseInt(e),title:t.title.rendered,buylinks:s,audioSample:n,bookSample:r,buttonsLabel:"Now Available From",titlePrefix:"",styleURL:i,customBlurb:t.mbt_book_excerpt,customTagline:o,readMoreLink:t.link,showReadMore:!0})}},{key:"onChangeShowBuyLinks",value:function(){this.props.attributes.showBuyLinks?this.props.setAttributes({showBuyLinks:!1}):this.props.setAttributes({showBuyLinks:!0})}},{key:"onChangeShowReadMore",value:function(){this.props.attributes.showReadMore?this.props.setAttributes({showReadMore:!1}):this.props.setAttributes({showReadMore:!0})}},{key:"onChangeShowSampleLinks",value:function(){this.props.attributes.showSampleLinks?this.props.setAttributes({showSampleLinks:!1}):this.props.setAttributes({showSampleLinks:!0})}},{key:"onChangeShowTagline",value:function(){this.props.attributes.showTagLine?this.props.setAttributes({showTagLine:!1}):this.props.setAttributes({showTagLine:!0})}},{key:"onChangeTagline",value:function(e){this.props.setAttributes({customTagline:e})}},{key:"onChangeTextColor",value:function(e){this.props.setAttributes({colorText:e})}},{key:"onChangeTitlePrefix",value:function(e){this.props.setAttributes({titlePrefix:e})}},{key:"onChangeMaxWidthInner",value:function(e){this.props.setAttributes({maxWidthInner:e})}},{key:"onChangeTitleFontSize",value:function(e){void 0!==e?this.props.setAttributes({titleFontSize:e}):this.props.setAttributes({titleFontSize:"24"})}},{key:"onChangeTitleColor",value:function(e){this.props.setAttributes({colorTitle:e})}},{key:"onChangeTitlePrefixColor",value:function(e){this.props.setAttributes({colorTitlePrefix:e})}},{key:"readMoreButton",value:function(){var e="button button-primary button-small bpb-more",t=this.props.attributes.colorReadMoreLinkBG,o=this.props.attributes.colorReadMoreLink,n={};return o&&(n={color:o}),t&&(n={backgroundColor:t}),o&&t&&(n={backgroundColor:t,color:o}),(t||o)&&(e="button button-custom button-small bpb-more"),wp.element.createElement("a",{href:"#",className:e,style:n},this.props.attributes.readMoreText)}},{key:"render",value:function(){var e,t=this,o=this.props.attributes.alignReadMore,s=(this.props.attributes.colorReadMoreLinkBG,this.props.attributes.colorReadMoreLink,"flex-row"),i="",a=[{value:0,label:r("Select a Book")}],l="block-preview",u=(this.props.attributes.colorText,{backgroundColor:this.props.attributes.colorBG,color:this.props.attributes.colorText}),p=u;this.props.attributes.colorTitle&&(p={color:this.props.attributes.colorTitle});var c=p;return this.props.attributes.colorTitlePrefix&&(c={color:this.props.attributes.colorTitlePrefix}),this.props.attributes.colorTitle&&this.props.attributes.colorTitle,this.props.attributes.flexReverse&&(s="flex-row-reverse"),this.props.className+=" loading",this.state.posts.length>0?this.state.posts.forEach(function(e){a.push({value:e.id,label:e.title.rendered})}):i="No books found. Please create books first.",void 0!==this.state.post&&this.state.post.hasOwnProperty("title")?this.props.className+=" has-post":this.props.className+=" no-post",void 0!==this.props.attributes.title&&(l="block-preview active-preview"),this.props.className+=" gutenberg-render",wp.element.createElement("div",{className:this.props.className,style:u},this.getInspectorControls(a),this.props.attributes.mbtActive?this.getBlockSettings(a,i):wp.element.createElement("div",{className:"blueprint-block-settings"},wp.element.createElement("div",{className:"blueprint-block-message"},wp.element.createElement("span",null,"MyBookTable is not active."),wp.element.createElement("span",null," Please activate ",wp.element.createElement("a",{href:"https://wordpress.org/plugins/mybooktable/",target:"_blank"},"MyBookTable")," and create books first."))),this.props.attributes.title&&wp.element.createElement("div",{className:l},wp.element.createElement("div",{className:"inner-preview is-flex "+s},wp.element.createElement("div",{className:"preview-left"},this.props.attributes.cover&&wp.element.createElement("img",{src:this.props.attributes.cover,className:"preview-cover"}),this.props.attributes.showSampleLinks&&wp.element.createElement("div",{className:"cover-links"},this.props.attributes.bookSample&&wp.element.createElement("span",null,"View Book Sample"),this.props.attributes.bookSample&&this.props.attributes.audioSample&&wp.element.createElement("span",{className:"divider"}," | "),this.props.attributes.audioSample&&wp.element.createElement("span",null,"Hear Audiobook Sample"))),wp.element.createElement("div",{className:"preview-right"},wp.element.createElement("div",{className:"preview-right-top"},wp.element.createElement("h2",{className:"preview-title",style:p},this.props.attributes.titlePrefix&&wp.element.createElement("span",{className:"title-prefix",style:c},this.props.attributes.titlePrefix),wp.element.createElement("span",{className:"title"},this.props.attributes.title)),this.props.attributes.showTagLine&&wp.element.createElement(C,{tagName:"div",placeholder:"Lorem Ipsum Dolor Sunt...",className:"preview-tagline",value:this.props.attributes.customTagline,onChange:this.onChangeTagline,keepPlaceholderOnFocus:!0}),wp.element.createElement("div",{className:"preview-blurb"},wp.element.createElement(C,(n(e={tagName:"div",multiline:"p",placeholder:"Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Nullam id dolor id nibh ultricies vehicula ut id elit. Nulla vitae elit libero, a pharetra augue."},"placeholder",this.props.attributes.customBlurb),n(e,"className","custom-blurb"),n(e,"value",this.props.attributes.customBlurb),n(e,"onChange",this.onChangeBlurb),n(e,"keepPlaceholderOnFocus",!0),e)),this.props.attributes.showReadMore&&wp.element.createElement("span",{id:"btn-wrap",className:o},wp.element.createElement(this.readMoreButton,null)))),this.props.attributes.showBuyLinks&&this.props.attributes.buylinks&&wp.element.createElement("div",{className:"buylinks"},wp.element.createElement("h4",{className:"buttons-label noneditable",style:u},this.props.attributes.buttonsLabel),wp.element.createElement("div",{className:"mbt-book-buybuttons blueprint"},this.props.attributes.buylinks.map(function(e,o){return wp.element.createElement("div",{className:"mbt-book-buybutton",key:e.store},wp.element.createElement("a",{className:"image-link",href:e.url},wp.element.createElement("img",{className:"image-link",src:t.props.attributes.styleURL+e.store+"_button.png",alt:"buy from "+e.store})))})))))))}}]),t}();s("blueprint-blocks/mbt-book",{title:r("Book Preview"),icon:{background:"#fff",foreground:"#49A5C3",src:"book-alt"},category:"blueprint-blocks",keywords:[r("blueprint-blocks — mbt-book"),r("Book")],supports:{align:["center","wide","full"],anchor:!0},attributes:{alignReadMore:{type:"string",default:"btn-left"},anchor:{type:"string",source:"attribute",attribute:"id",selector:"*"},audioSample:{type:"string",source:"attribute",attribute:"href",selector:".audiosample a"},bookSample:{type:"string",source:"attribute",attribute:"href",selector:".booksample a"},buttonsLabel:{type:"string",default:"Now Available From",source:"children",selector:".buttons-label"},buylinks:{type:"array"},colorBG:{type:"string",default:"#fff"},colorReadMoreLink:{type:"string",default:""},colorReadMoreLinkBG:{type:"string",default:""},colorText:{type:"string",default:""},colorTitle:{type:"string",default:""},colorTitlePrefix:{type:"string",default:""},cover:{type:"string",source:"attribute",attribute:"src",selector:".preview-cover"},customBlurb:{type:"string",source:"html",selector:".custom-blurb"},customTagline:{type:"string",source:"html",selector:".preview-tagline"},flexReverse:{type:"boolean",default:!1},mbtActive:{type:"boolean",default:!0},readMoreLink:{type:"string",source:"attribute",selector:".bpb-more",attribute:"href"},readMoreText:{type:"string",default:"Read More",source:"text",selector:".bpb-more"},selectedPost:{type:"number",default:""},showBuyLinks:{type:"boolean",default:!0},showReadMore:{type:"boolean",default:!0},showSampleLinks:{type:"boolean",default:!0},showTagLine:{type:"boolean",default:!0},styleURL:{type:"string"},title:{type:"string",source:"text",selector:".title"},titleFontSize:{type:"string",default:"24",source:"attribute",attribute:"style",selector:".title",property:"font-size"},titlePrefix:{type:"string",source:"text",selector:".title-prefix"},maxWidthInner:{type:"integer",default:1400,source:"attribute",attribute:"style",selector:".has-width",property:"width"}},edit:v,save:function(e){var t=e.attributes.alignReadMore,o=e.attributes.colorReadMoreLinkBG,n=e.attributes.colorReadMoreLink,r=e.attributes.title+" Cover",s=null,i=null,a="inner is-flex flex-row";e.attributes.flexReverse&&(a="inner is-flex flex-row-reverse"),e.attributes.colorBG&&(i={backgroundColor:e.attributes.colorBG},e.className+=" has-background-color"),"#fff"!==e.attributes.colorBG&&"#ffffff"!==e.attributes.colorBG||(e.className+=" has-background-color-white"),e.attributes.colorText&&(i={color:e.attributes.colorText}),e.attributes.colorText&&e.attributes.colorBG&&(i={backgroundColor:e.attributes.colorBG,color:e.attributes.colorText}),e.attributes.colorTitle&&(s={color:e.attributes.colorTitle});var l=s;e.attributes.colorTitlePrefix&&(l={color:e.attributes.colorTitlePrefix});var u=null;e.attributes.colorReadMoreLinkBG&&(u={backgroundColor:e.attributes.colorReadMoreLinkBG}),e.attributes.colorReadMoreLink&&(u={color:e.attributes.colorReadMoreLink}),e.attributes.colorReadMoreLinkBG&&e.attributes.colorReadMoreLink&&(u={backgroundColor:e.attributes.colorReadMoreLinkBG,color:e.attributes.colorReadMoreLink});var p="button button-primary button-small bpb-more";(o||n)&&(p="button button-custom button-small bpb-more");"alignfull"===e.align&&(a+=" has-width"),e.className+=" gutenberg-render";var c='[blueprint_mbt_buttons id="'+e.attributes.selectedPost+'"]';return wp.element.createElement("div",{className:e.className,style:i},wp.element.createElement("div",{className:a},wp.element.createElement("div",{className:"preview-left"},e.attributes.cover&&wp.element.createElement("a",{href:e.attributes.readMoreLink,className:"image-link"},wp.element.createElement("img",{src:e.attributes.cover,className:"preview-cover",alt:r})),e.attributes.showSampleLinks&&wp.element.createElement("div",{className:"cover-links"},e.attributes.bookSample&&wp.element.createElement("span",{className:"booksample"},wp.element.createElement("a",{href:e.attributes.bookSample},"View Book Sample")),e.attributes.bookSample&&e.attributes.audioSample&&wp.element.createElement("span",{className:"divider"}," | "),e.attributes.audioSample&&wp.element.createElement("span",{className:"audiosample"},wp.element.createElement("a",{href:e.attributes.audioSample},"Hear Audiobook Sample")))),wp.element.createElement("div",{className:"preview-right"},wp.element.createElement("div",{className:"preview-right-top"},wp.element.createElement("h2",{className:"preview-title"},e.attributes.titlePrefix&&wp.element.createElement("span",{className:"title-prefix",style:l},e.attributes.titlePrefix," "),wp.element.createElement("span",{className:"title",style:s},e.attributes.title)),e.attributes.showTagLine&&wp.element.createElement(C.Content,{tagName:"div",className:"preview-tagline",value:e.attributes.customTagline}),wp.element.createElement("div",{className:"preview-blurb"},wp.element.createElement(C.Content,{tagName:"div",multiline:"p",className:"custom-blurb",value:e.attributes.customBlurb}),e.attributes.showReadMore&&wp.element.createElement("span",{id:"btn-wrap",className:t},wp.element.createElement("a",{href:e.attributes.readMoreLink,className:p,style:u},e.attributes.readMoreText)))),e.attributes.showBuyLinks&&e.attributes.buylinks&&wp.element.createElement("div",{className:"buylinks"},wp.element.createElement("h5",{className:"buttons-label",style:i},e.attributes.buttonsLabel),wp.element.createElement("div",{class:"mbt-book"},wp.element.createElement(d,null,c))))))}})},function(e,t){var o=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var n=wp.i18n.__,r=wp.blocks.registerBlockType,s=wp.components,i=s.SelectControl,a=s.ToggleControl,l=s.RangeControl,u=s.TextControl,p=(s.Panel,s.PanelBody),c=s.PanelRow,h=wp.element,b=h.Component,m=h.RawHTML,g=wp.editor,d=g.RichText,k=g.MediaUpload,C=g.InnerBlocks,w=g.InspectorControls,f=g.PanelColorSettings,v=wp.data,y=(v.dispatch,v.select,[["blueprint-blocks/social-link",{},[]]]),B=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state=e.constructor.getInitialState(e.props.attributes.selectedAuthor),e.getBlueprintApi=e.getBlueprintApi.bind(e),e.getBlueprintApi(),e.getAuthors=e.getAuthors.bind(e),e.getAuthors(),e.getInspectorControls=e.getInspectorControls.bind(e),e.getBlockSettings=e.getBlockSettings.bind(e),e.onChangeSelectAuthor=e.onChangeSelectAuthor.bind(e),e.onSelectImage=e.onSelectImage.bind(e),e.onChangeProfileTitle=e.onChangeProfileTitle.bind(e),e.onChangeAuthorDescription=e.onChangeAuthorDescription.bind(e),e.onChangeTextColor=e.onChangeTextColor.bind(e),e.onChangeBGColor=e.onChangeBGColor.bind(e),e.onChangeCircleImage=e.onChangeCircleImage.bind(e),e.onChangeImgBorder=e.onChangeImgBorder.bind(e),e.onChangeBorderWidth=e.onChangeBorderWidth.bind(e),e.onChangeImageBorderColor=e.onChangeImageBorderColor.bind(e),e.onChangeShowReadMore=e.onChangeShowReadMore.bind(e),e.onChangeReadMoreText=e.onChangeReadMoreText.bind(e),e.onChangeReadMoreLink=e.onChangeReadMoreLink.bind(e),e.onChangeButtonColor=e.onChangeButtonColor.bind(e),e.onChangeButtonBGColor=e.onChangeButtonBGColor.bind(e),e.onChangeButtonAlign=e.onChangeButtonAlign.bind(e),e.onChangeMaxWidthInner=e.onChangeMaxWidthInner.bind(e),e.onChangeShowSocialLinks=e.onChangeShowSocialLinks.bind(e),e.onChangeSocialLinkType=e.onChangeSocialLinkType.bind(e),e.getSiteLinks=e.getSiteLinks.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b),o(t,null,[{key:"getInitialState",value:function(e){return{authors:[],selectedAuthor:e,author:{},imgDir:null,socialBg:null,socialColor:null,socialBR:null}}}]),o(t,[{key:"getAuthors",value:function(){var e=this;wp.api.models.Taxonomy.extend({urlRoot:wpApiSettings.root+"wp/v2/mbt_author"});(new(wp.api.collections.Taxonomies.extend({url:wpApiSettings.root+"wp/v2/mbt_author"}))).fetch().then(function(t){if(t&&0!==e.state.selectedAuthor){var o=t.find(function(t){return t.id==e.state.selectedAuthor});e.setState({author:o,authors:t})}else e.setState({authors:t})})}},{key:"getBlueprintApi",value:function(){var e=this;wp.api.models.Status.extend({urlRoot:wpApiSettings.root+"blueprint-mmk/v1/blueprint",defaults:{type:"blueprint"}});(new(wp.api.collections.Statuses.extend({url:wpApiSettings.root+"blueprint-mmk/v1/blueprint"}))).fetch().then(function(t){var o=t.blueprint_social.links,n=[],r=t.img_dir+"icons/";o.map(function(e,t){n.push({network:e.network,url:e.url,iconLink:r+e.network+".svg"})}),e.props.setAttributes({mbtActive:t.mbt_active,socialActive:t.blueprint_social.status}),e.setState({imgDir:t.img_dir,siteLinks:n,socialBg:t.blueprint_social.display.background,socialColor:t.blueprint_social.display.color,socialBR:t.blueprint_social.display.border_radius})})}},{key:"getInspectorControls",value:function(e){return wp.element.createElement(w,null,wp.element.createElement(p,{title:"Profile Settings",initialOpen:!0,className:"blueprint-panel-body"},this.props.attributes.mbtActive&&wp.element.createElement(c,{className:"author-select"},wp.element.createElement(i,{onChange:this.onChangeSelectAuthor,value:this.props.attributes.selectedAuthor,label:n("Select an Author"),options:e,className:"author-select"})),"full"===this.props.attributes.align&&wp.element.createElement(c,{className:"width-control"},wp.element.createElement(l,{label:"Max width of Inner Content",help:"maximum width in px, defaults to 1020, applies only to blocks set to display Full Width",value:this.props.attributes.maxWidthInner,onChange:this.onChangeMaxWidthInner,min:0,max:2e3})),wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(a,{label:"Show 'Read More' Link?",checked:!!this.props.attributes.showReadMore,onChange:this.onChangeShowReadMore}),this.props.attributes.showReadMore&&wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(u,{placeholder:"Read More",value:this.props.attributes.readMoreText,onChange:this.onChangeReadMoreText,keepPlaceholderOnFocus:!0}),wp.element.createElement(u,{placeholder:"http://my-author-profile-link.com",value:this.props.attributes.readMoreLink,onChange:this.onChangeReadMoreLink,keepPlaceholderOnFocus:!0}),wp.element.createElement(i,{label:"Align Button:",value:this.props.attributes.alignReadMore,options:[{label:"Left",value:"btn-left"},{label:"Center",value:"btn-center"},{label:"Right",value:"btn-right"}],onChange:this.onChangeButtonAlign}))),wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(a,{label:"Circular Profile Image",checked:!!this.props.attributes.circleImage,onChange:this.onChangeCircleImage,className:"circle-image"})),wp.element.createElement(c,{className:"display-block parent width-control"},wp.element.createElement(a,{label:"Image Border",checked:!!this.props.attributes.imgBorder,onChange:this.onChangeImgBorder,className:"image-border"}),this.props.attributes.imgBorder&&wp.element.createElement(l,{label:"Border Width",value:this.props.attributes.imgBorderWidth,onChange:this.onChangeBorderWidth,min:0,max:20}))),wp.element.createElement(p,{title:"Social Media Settings",initialOpen:!1,className:"blueprint-panel-body"},wp.element.createElement(c,{className:"display-block parent"},wp.element.createElement(a,{label:"Show Social Media Links?",checked:!!this.props.attributes.showSocialLinks,onChange:this.onChangeShowSocialLinks,className:"link-type"}),wp.element.createElement(a,{label:"Use site-wide social media links instead of user profile social links?",checked:!!this.props.attributes.useSiteLinks,onChange:this.onChangeSocialLinkType,className:"link-type"}))),wp.element.createElement(f,{title:n("Block Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.colorText,onChange:this.onChangeTextColor,label:n("Text Color","blueprint-blocks")},{value:this.props.attributes.colorBG,onChange:this.onChangeBGColor,label:n("Background Color","blueprint-blocks")}]}),this.props.attributes.showReadMore&&wp.element.createElement(f,{title:n("Button Colors","blueprint-blocks"),initialOpen:!1,className:"parent",colorSettings:[{value:this.props.attributes.buttonColor,onChange:this.onChangeButtonColor,label:n("Read More Button Color","blueprint-blocks")},{value:this.props.attributes.buttonBG,onChange:this.onChangeButtonBGColor,label:n("Button Background Color","blueprint-blocks")}]}),this.props.attributes.imgBorder&&wp.element.createElement(f,{title:n("Image Border Color","blueprint-blocks"),initialOpen:!0,colorSettings:[{value:this.props.attributes.imgBorderColor,onChange:this.onChangeImageBorderColor,label:n("Image Border Color","blueprint-blocks")}]}))}},{key:"getSiteLinks",value:function(){var e=this;return this.state.siteLinks?wp.element.createElement("div",{className:"blueprint-profile-links site-links"},this.state.siteLinks.map(function(t,o){var n={backgroundColor:e.state.socialBg,borderRadius:e.state.socialBR},r={display:"inline-block",backgroundColor:e.state.socialColor,maskImage:"url( "+t.iconLink+")",webkitMaskImage:"url( "+t.iconLink+")"};return wp.element.createElement("span",{className:t.network+" icon-"+t.network,style:n},wp.element.createElement("span",{className:"editor-icon",style:r}))})):null}},{key:"onChangeSelectAuthor",value:function(e){var t=this.state.authors.find(function(t){return t.id==parseInt(e)});this.setState({selectedAuthor:parseInt(e),author:t,authorLink:t.link});var o=t.mbt_tax_image_url;o&&this.props.setAttributes({imgUrl:o}),this.props.setAttributes({selectedAuthor:parseInt(e),authorDescription:t.description,profileTitle:t.name,readMoreLink:t.link})}},{key:"onSelectImage",value:function(e){this.props.setAttributes({imgUrl:e.sizes.full.url})}},{key:"onChangeProfileTitle",value:function(e){this.props.setAttributes({profileTitle:e})}},{key:"onChangeAuthorDescription",value:function(e){this.props.setAttributes({authorDescription:e})}},{key:"onChangeTextColor",value:function(e){this.props.setAttributes({colorText:e})}},{key:"onChangeBGColor",value:function(e){this.props.setAttributes({colorBG:e})}},{key:"onChangeCircleImage",value:function(e){this.props.attributes.circleImage?this.props.setAttributes({circleImage:!1}):this.props.setAttributes({circleImage:!0})}},{key:"onChangeImgBorder",value:function(e){this.props.attributes.imgBorder?this.props.setAttributes({imgBorder:!1}):this.props.setAttributes({imgBorder:!0})}},{key:"onChangeBorderWidth",value:function(e){this.props.setAttributes({imgBorderWidth:e})}},{key:"onChangeImageBorderColor",value:function(e){this.props.setAttributes({imgBorderColor:e})}},{key:"onChangeShowReadMore",value:function(e){var t=this.state.author.link;this.props.attributes.readMoreLink&&(t=this.props.attributes.readMoreLink),this.props.attributes.showReadMore?this.props.setAttributes({showReadMore:!1}):this.props.setAttributes({showReadMore:!0}),this.onChangeReadMoreLink(t)}},{key:"onChangeShowSocialLinks",value:function(e){this.props.attributes.showSocialLinks?this.props.setAttributes({showSocialLinks:!1}):this.props.setAttributes({showSocialLinks:!0})}},{key:"onChangeSocialLinkType",value:function(e){this.props.attributes.useSiteLinks?this.props.setAttributes({useSiteLinks:!1}):this.props.setAttributes({useSiteLinks:!0})}},{key:"onChangeReadMoreText",value:function(e){this.props.setAttributes({readMoreText:e})}},{key:"onChangeReadMoreLink",value:function(e){this.props.setAttributes({readMoreLink:e})}},{key:"onChangeButtonAlign",value:function(e){this.props.setAttributes({alignReadMore:e})}},{key:"onChangeButtonColor",value:function(e){this.props.setAttributes({buttonColor:e})}},{key:"onChangeButtonBGColor",value:function(e){this.props.setAttributes({buttonBG:e})}},{key:"onChangeMaxWidthInner",value:function(e){this.props.setAttributes({maxWidthInner:e})}},{key:"getBlockSettings",value:function(e,t){return this.props.attributes.mbtActive?wp.element.createElement("div",{className:"blueprint-block-settings"},wp.element.createElement("div",{className:"blueprint-block-message"},t),wp.element.createElement(i,{onChange:this.onChangeSelectAuthor,value:this.props.attributes.selectedAuthor,label:n("Select an Author"),options:e,className:"author-select"})):wp.element.createElement("div",{className:"blueprint-block-settings"},wp.element.createElement("div",{className:"blueprint-block-message"},wp.element.createElement("span",null,"MyBookTable is not active."),wp.element.createElement("span",null," Please activate ",wp.element.createElement("a",{href:"https://wordpress.org/plugins/mybooktable/",target:"_blank"},"MyBookTable")," and create Authors first.")))}},{key:"render",value:function(){var e=this,t={},o={},r="button button-primary",s={},i={},a="media",l="",u=[{value:0,label:n("Select an Author")}],p={};return this.state.authors.length>0?this.state.authors.forEach(function(e){u.push({value:e.id,label:e.name})}):l="No authors found - please install MyBookTable or create author first.",void 0!==this.state.author&&this.state.author.hasOwnProperty("name")&&(output=wp.element.createElement("div",{className:"author"},wp.element.createElement("a",{href:this.state.author.link},this.state.author.name))),(this.props.attributes.buttonBG||this.props.attributes.buttonColor)&&(r="custom button",s={backgroundColor:props.attributes.buttonBG,color:props.attributes.buttonColor}),this.props.attributes.circleImage&&(a+=" circle"),this.props.attributes.imgBorder&&(o={borderWidth:this.props.attributes.imgBorderWidth+"px",borderColor:this.props.attributes.imgBorderColor,borderStyle:"solid"}),this.props.attributes.colorText&&(t={color:this.props.attributes.colorText},i={color:this.props.attributes.colorText,borderColor:this.props.attributes.colorText}),this.props.attributes.colorBG&&(t={backgroundColor:this.props.attributes.colorBG},p={backgroundColor:this.props.attributes.colorBG},this.props.className+=" has-background-color"),this.props.attributes.colorText&&this.props.attributes.colorBG&&(t={color:this.props.attributes.colorText,backgroundColor:this.props.attributes.colorBG}),wp.element.createElement("div",{className:this.props.className+" author-"+this.props.attributes.selectedAuthor,style:t},this.getInspectorControls(u),this.props.attributes.selectedAuthor?null:this.getBlockSettings(u,l),wp.element.createElement("div",{className:"profile-preview"},this.props.attributes.profileTitle&&wp.element.createElement("h2",{className:"profile-title section-title",style:i},wp.element.createElement(d,{tagName:"span",placeholder:"Author Name",className:"author-name",value:this.props.attributes.profileTitle,onChange:this.onChangeProfileTitle,keepPlaceholderOnFocus:!0,style:p})),this.props.attributes.selectedAuthor&&wp.element.createElement("div",{className:"inner is-flex"},wp.element.createElement("div",{className:"profile-main"},wp.element.createElement(k,{onSelect:this.onSelectImage,render:function(t){var n=t.open;return wp.element.createElement("div",{className:a},wp.element.createElement("span",{className:"dashicons dashicons-edit edit-media",onClick:n}),wp.element.createElement("img",{src:e.props.attributes.imgUrl,onClick:n,className:"profile-image",style:o}))}}),wp.element.createElement("div",{class:"profile"},wp.element.createElement(d,{tagName:"div",placeholder:"Short Description or Bio",className:"author-blurb",value:this.props.attributes.authorDescription,onChange:this.onChangeAuthorDescription,keepPlaceholderOnFocus:!1}),this.props.attributes.showReadMore&&this.props.attributes.readMoreLink&&wp.element.createElement("div",{className:"bpb-more-link "+this.props.attributes.alignReadMore},wp.element.createElement("a",{className:r+" readMoreLink",href:this.props.attributes.readMoreLink,style:s},this.props.attributes.readMoreText)))),this.props.attributes.showSocialLinks&&wp.element.createElement("div",{className:"social-icons"},this.props.attributes.useSiteLinks?wp.element.createElement(this.getSiteLinks,null):wp.element.createElement(C,{allowedBlocks:["blueprint-blocks/social-link"],template:y})))))}}]),t}();r("blueprint-blocks/author-profile",{title:n("Author Profile"),icon:"admin-users",category:"blueprint-blocks",keywords:[n("Author"),n("Blueprint"),n("Profile")],supports:{align:["center","wide","full"],anchor:!0},attributes:{selectedAuthor:{type:"number",default:null},alignReadMore:{type:"string",selector:".bpb-more-link",attribute:"class",source:"attribute",default:"btn-left"},authorDescription:{type:"string",selector:".author-blurb",source:"html"},profileTitle:{type:"string",selector:".author-name",source:"html"},imgUrl:{type:"string",default:"https://via.placeholder.com/300/CBF0FF/006187",selector:"img"},buttonBG:{type:"string"},buttonColor:{type:"string"},circleImage:{type:"boolean",default:!1},colorBG:{type:"string"},colorText:{type:"string"},imgBorderColor:{type:"string",default:"#000"},imgBorder:{type:"boolean",default:!1},imgBorderWidth:{type:"integer",default:2},maxWidthInner:{type:"integer",default:1400},mbtActive:{type:"boolean",default:!0},readMoreLink:{type:"string",default:null,source:"attribute",attribute:"href",selector:".readMoreLink"},readMoreText:{type:"string",default:"Read More"},showReadMore:{type:"boolean",default:!1},showSocialLinks:{type:"boolean",default:!0},useSiteLinks:{type:"boolean",default:!1}},edit:B,save:function(e){var t=e.attributes.imgUrl,o="media",n="button button-primary",r={},s={},i={},a={},l=null,u={},p="profile-main";"full"===e.attributes.align&&(u={}),e.attributes.circleImage&&(o+=" circle",p="profile-main circle-left"),"https://via.placeholder.com/300/CBF0FF/006187"===t&&(t=null),(e.attributes.buttonBG||e.attributes.buttonColor)&&(n="custom button",r={backgroundColor:e.attributes.buttonBG,color:e.attributes.buttonColor}),e.attributes.colorText&&(s={color:e.attributes.colorText},i={color:e.attributes.colorText,borderColor:e.attributes.colorText}),e.attributes.colorBG&&(s={backgroundColor:e.attributes.colorBG},a={backgroundColor:e.attributes.colorBG},l=" has-background-color"),e.attributes.colorText&&e.attributes.colorBG&&(s={color:e.attributes.colorText,backgroundColor:e.attributes.colorBG});var c={};e.attributes.imgBorder&&(c={borderWidth:e.attributes.imgBorderWidth+"px",borderColor:e.attributes.imgBorderColor,borderStyle:"solid"});return e.attributes.selectedAuthor&&wp.element.createElement("div",{className:e.className+l+" author-"+e.attributes.selectedAuthor,style:s},wp.element.createElement("div",{className:"inner-wrap",style:u},wp.element.createElement("h2",{className:"profile-title section-title",style:i},wp.element.createElement(d.Content,{tagName:"span",className:"author-name",value:e.attributes.profileTitle,style:a})),wp.element.createElement("div",{className:"inner is-flex"},wp.element.createElement("div",{className:p},t&&wp.element.createElement("div",{className:o},wp.element.createElement("img",{src:e.attributes.imgUrl,className:"profile-image",style:c})),wp.element.createElement("div",{className:"profile"},wp.element.createElement(d.Content,{className:"author-blurb",tagName:"div",multiline:"p",value:e.attributes.authorDescription}),e.attributes.showReadMore&&e.attributes.readMoreLink&&wp.element.createElement("div",{className:"bpb-more-link "+e.attributes.alignReadMore},wp.element.createElement("a",{className:n+" readMoreLink",href:e.attributes.readMoreLink,style:r},e.attributes.readMoreText)))),e.attributes.showSocialLinks&&wp.element.createElement("div",{className:"blueprint-profile-links"},e.attributes.useSiteLinks?wp.element.createElement(m,null,'[blueprint_social direction="column"]'):wp.element.createElement(C.Content,null)))))}})},function(e,t){var o=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var n=wp.i18n.__,r=wp.blocks.registerBlockType,s=wp.components,i=s.SelectControl,a=s.TextControl,l=(s.Panel,s.PanelBody),u=s.PanelRow,p=wp.element.Component,c=wp.editor,h=(c.RichText,c.MediaUpload,c.InnerBlocks,c.InspectorControls),b=c.PanelColorSettings,m=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state=e.constructor.getInitialState(e.props.attributes.selectedNetwork),e.getOptions=e.getOptions.bind(e),e.getOptions(),e.getInspectorControls=e.getInspectorControls.bind(e),e.getLinkLabel=e.getLinkLabel.bind(e),e.getLinkHelp=e.getLinkHelp.bind(e),e.getLinkPlaceholder=e.getLinkPlaceholder.bind(e),e.onChangeSelectNetwork=e.onChangeSelectNetwork.bind(e),e.onChangeSocialLink=e.onChangeSocialLink.bind(e),e.linkInputFocus=e.linkInputFocus.bind(e),e.linkInputBlur=e.linkInputBlur.bind(e),e.onChangeButtonColor=e.onChangeButtonColor.bind(e),e.onChangeButtonBG=e.onChangeButtonBG.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p),o(t,null,[{key:"getInitialState",value:function(e){return{networks:[],selectedNetwork:e,network:{},unFocused:!0,imgDir:null}}}]),o(t,[{key:"getOptions",value:function(){var e=this;wp.api.models.Status.extend({urlRoot:wpApiSettings.root+"blueprint-mmk/v1/blueprint",defaults:{type:"blueprint"}});(new(wp.api.collections.Statuses.extend({url:wpApiSettings.root+"blueprint-mmk/v1/blueprint"}))).fetch().then(function(t){var o=t.blueprint_social.display,n=o.background?o.background:"#4b4b4b",r=o.color?o.color:"#f4f4f4",s=o.hover_color?o.hover_color:"#f4f4f4",i=o.hover_background?o.hover_background:"#4b4b4b",a=o.border_radius?o.border_radius:"0";e.setState({networks:t.blueprint_social.networks,imgDir:t.img_dir,bpSocialStatus:t.blueprint_social.status,bpsBgColor:n,bpsColor:r,bpsColorHov:s,bpsBgColorHov:i,bpsBorderRadius:a}),e.props.setAttributes({bgColor:e.props.attributes.bgColor?e.props.attributes.bgColor:e.state.bpsBgColor,color:e.props.attributes.color?e.props.attributes.color:e.state.bpsColor,borderRadius:e.props.attributes.borderRadius?e.props.attributes.borderRadius:e.state.bpsBorderRadius})})}},{key:"getLinkPlaceholder",value:function(){var e="https://website.com";return this.props.attributes.selectedNetwork&&"email"===this.props.attributes.selectedNetwork?e="you@your-name.com":this.props.attributes.selectedNetwork&&(e="https://"+this.props.attributes.selectedNetwork+".com"),e}},{key:"getLinkHelp",value:function(){var e="";return this.props.attributes.selectedNetwork&&"email"!==this.props.attributes.selectedNetwork&&(e="Full URL to "+this.props.attributes.selectedNetwork+" profile"),e}},{key:"getLinkLabel",value:function(){var e="Enter Profile URL";return this.props.attributes.selectedNetwork&&"email"===this.props.attributes.selectedNetwork?e="Email Address":this.props.attributes.selectedNetwork&&(e=this.props.attributes.selectedNetwork+" link"),e}},{key:"onChangeSelectNetwork",value:function(e){this.state.networks.find(function(t){return t.tag==e});this.props.setAttributes({selectedNetwork:e})}},{key:"onChangeSocialLink",value:function(e){this.props.setAttributes({socialLink:e})}},{key:"onChangeButtonColor",value:function(e){this.props.setAttributes({color:e})}},{key:"onChangeButtonBG",value:function(e){this.props.setAttributes({bgColor:e})}},{key:"linkInputFocus",value:function(){this.setState({unFocused:!1})}},{key:"linkInputBlur",value:function(){this.setState({unFocused:!0})}},{key:"getInspectorControls",value:function(e){var t=this.getLinkLabel(),o=this.getLinkHelp(),r=this.getLinkPlaceholder();return wp.element.createElement("div",null,wp.element.createElement(h,null,wp.element.createElement(b,{title:n("Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.color,onChange:this.onChangeButtonColor,label:n("Button: Icon Color","blueprint-blocks")},{value:this.props.attributes.bgColor,onChange:this.onChangeButtonBG,label:n("Button: Background Color","blueprint-blocks")}]}),wp.element.createElement(l,{title:"Link Settings",initialOpen:!0,className:"blueprint-panel-body"},wp.element.createElement(u,{className:"select parent"},wp.element.createElement(i,{onChange:this.onChangeSelectNetwork,value:this.props.attributes.selectedNetwork,label:n("Select a Social Network"),options:e,className:"network-select"})),wp.element.createElement(u,{className:"display-block parent no-top-space"},wp.element.createElement(a,{label:t,help:o,placeholder:r,value:this.props.attributes.socialLink,onChange:this.onChangeSocialLink,keepPlaceholderOnFocus:!0})))))}},{key:"render",value:function(){var e=this.getLinkLabel(),t=this.getLinkHelp(),o=this.getLinkPlaceholder(),r=[{value:null,label:n("Select a Network")}];this.props.className+=" loading",this.state.networks.length>0&&this.state.networks.forEach(function(e){r.push({value:e.tag,label:e.name})}),void 0!==this.state.network&&this.state.network.hasOwnProperty("name")?this.props.className+=" has-network":this.props.className+=" no-network",this.props.attributes.network;var s=this.state.imgDir+"icons/"+this.props.attributes.selectedNetwork+".svg",l={backgroundColor:this.props.attributes.bgColor,borderRadius:this.props.attributes.borderRadius},u={backgroundColor:this.props.attributes.color,maskImage:" url( "+s+")",webkitMaskImage:" url( "+s+")"};return wp.element.createElement("div",{className:this.props.className},this.getInspectorControls(r),this.state.unFocused&&this.props.attributes.selectedNetwork&&this.props.attributes.socialLink?wp.element.createElement("a",{href:this.props.attributes.socialLink,className:this.props.attributes.selectedNetwork+" social-link icon-"+this.props.attributes.selectedNetwork,style:l},wp.element.createElement("span",{className:"editor-icon",style:u})):wp.element.createElement("div",{className:"social-setup"},wp.element.createElement(i,{onChange:this.onChangeSelectNetwork,value:this.props.attributes.selectedNetwork,label:n("Select a Social Network"),options:r,className:"network-select"}),wp.element.createElement(a,{label:e,help:t,placeholder:o,value:this.props.attributes.socialLink,onChange:this.onChangeSocialLink,keepPlaceholderOnFocus:!0,onFocus:this.linkInputFocus,onBlur:this.linkInputBlur})))}}]),t}();r("blueprint-blocks/social-link",{title:n("Social Link"),icon:"share",category:"blueprint-blocks",keywords:[n("Social"),n("Link"),n("Facebook")],parent:["blueprint-blocks/blueprint-author"],attributes:{selectedNetwork:{type:"string",default:null},socialLink:{type:"string"},bgColor:{type:"string"},color:{type:"string"},borderRadius:{type:"string"}},edit:m,save:function(e){var t={backgroundColor:e.attributes.bgColor,borderRadius:e.attributes.borderRadius,color:e.attributes.color};return wp.element.createElement("div",{className:e.className},e.attributes.selectedNetwork&&e.attributes.socialLink&&wp.element.createElement("a",{href:e.attributes.socialLink,className:e.attributes.selectedNetwork+" bps-social-link icon-"+e.attributes.selectedNetwork,style:t},wp.element.createElement("span",null,e.attributes.selectedNetwork)))}})},function(e,t){var o,n,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=(o=[""],n=[""],Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(n)}})));var i=wp.i18n.__,a=wp.blocks.registerBlockType,l=wp.components,u=l.SelectControl,p=l.TextControl,c=(l.Panel,l.PanelBody),h=l.PanelRow,b=l.RangeControl,m=l.ToggleControl,g=l.FontSizePicker,d=wp.element.Component,k=wp.editor,C=(k.RichText,k.MediaUpload,k.InnerBlocks,k.InspectorControls),w=k.PanelColorSettings,f=(wp.apiFetch.apiFetch,function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state=e.constructor.getInitialState(e.props.attributes.selectedCategory),e.getOptions=e.getOptions.bind(e),e.getOptions(),e.getInspectorControls=e.getInspectorControls.bind(e),e.onChangeSelectCategory=e.onChangeSelectCategory.bind(e),e.onChangeIncludeSticky=e.onChangeIncludeSticky.bind(e),e.onChangeShowExcerpts=e.onChangeShowExcerpts.bind(e),e.onChangeShowMeta=e.onChangeShowMeta.bind(e),e.onChangeShowImg=e.onChangeShowImg.bind(e),e.onChangeColor=e.onChangeColor.bind(e),e.onChangeBackgroundColor=e.onChangeBackgroundColor.bind(e),e.onChangeImgBorderColor=e.onChangeImgBorderColor.bind(e),e.onChangeRoundImg=e.onChangeRoundImg.bind(e),e.onChangeNumberPosts=e.onChangeNumberPosts.bind(e),e.onChangePostsPerRow=e.onChangePostsPerRow.bind(e),e.onChangeImgBorder=e.onChangeImgBorder.bind(e),e.onChangeTextFontSize=e.onChangeTextFontSize.bind(e),e.onChangeTitleFontSize=e.onChangeTitleFontSize.bind(e),e.onChangeAlignTitle=e.onChangeAlignTitle.bind(e),e.onChangeAlignText=e.onChangeAlignText.bind(e),e.onChangeReadMoreText=e.onChangeReadMoreText.bind(e),e.onChangeButtonType=e.onChangeButtonType.bind(e),e.onChangeButtonColor=e.onChangeButtonColor.bind(e),e.onChangeButtonBorderColor=e.onChangeButtonBorderColor.bind(e),e.onChangeButtonBG=e.onChangeButtonBG.bind(e),e.onChangeButtonBorder=e.onChangeButtonBorder.bind(e),e.onChangeButtonFontSize=e.onChangeButtonFontSize.bind(e),e.onChangeButtonBorderRadius=e.onChangeButtonBorderRadius.bind(e),e.onChangeAlignButton=e.onChangeAlignButton.bind(e),e.onChangeSectionTitle=e.onChangeSectionTitle.bind(e),e.onChangeSectionTitleSize=e.onChangeSectionTitleSize.bind(e),e.previewPost=e.previewPost.bind(e),e.previewButton=e.previewButton.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d),r(t,null,[{key:"getInitialState",value:function(e){return{categories:[],selectedCategory:e,category:{}}}}]),r(t,[{key:"getOptions",value:function(){var e=this;return(new wp.api.collections.Categories).fetch().then(function(t){if(t&&0!==e.state.selectedCategory){var o=t.find(function(t){return t.id==e.state.selectedCategory});e.setState({category:o,categories:t})}else e.setState({categories:t})})}},{key:"getInspectorControls",value:function(e){return wp.element.createElement("div",null,wp.element.createElement(C,null,wp.element.createElement(c,{title:"Main settings"},wp.element.createElement(h,{className:"category-select"},wp.element.createElement(u,{onChange:this.onChangeSelectCategory,value:this.props.attributes.selectedCategory,label:i("Select a Category"),options:e,className:"category-select"}))),wp.element.createElement(c,{title:"Post Options",initialOpen:!1},wp.element.createElement(m,{label:"include Sticky Posts?",checked:!!this.props.attributes.ignoreSticky,onChange:this.onChangeIncludeSticky,className:"link-type"}),wp.element.createElement(b,{label:"Number of Posts to Show",help:"default is 3",value:this.props.attributes.numberPosts,onChange:this.onChangeNumberPosts,min:0,max:20}),wp.element.createElement(b,{label:"Number of Posts per Row",help:"default is 3",value:this.props.attributes.postsPerRow,onChange:this.onChangePostsPerRow,min:0,max:5}),wp.element.createElement(m,{label:"Show Excerpts?",checked:!!this.props.attributes.showExcerpts,onChange:this.onChangeShowExcerpts,className:"link-type"}),wp.element.createElement(m,{label:"Show Meta?",help:"author name, date, etc.",checked:!!this.props.attributes.showMeta,onChange:this.onChangeShowMeta,className:"link-type"})),wp.element.createElement(c,{title:"Section Title Settings",initialOpen:!1},wp.element.createElement(p,{placeholder:"Section Title",value:this.props.attributes.sectionTitle,onChange:this.onChangeSectionTitle,keepPlaceholderOnFocus:!0}),wp.element.createElement(g,{fontSizes:[{name:i("X-Small"),slug:"stitle-extra-small",size:"14"},{name:i("Small"),slug:"stitle-small",size:"16"},{name:i("Normal"),slug:"stitle-normal",size:"20"},{name:i("Medium"),slug:"stitle-medium",size:"24"},{name:i("Large"),slug:"stitle-large",size:"28"},{name:i("X-Large"),slug:"stitle-extra-large",size:"32"}],value:this.props.attributes.sectionTitleSize,fallbackFontSize:"20",onChange:this.onChangeSectionTitleSize})),wp.element.createElement(c,{title:"Post Title Styles",initialOpen:!1},wp.element.createElement(g,{fontSizes:[{name:i("X-Small"),slug:"title-extra-small",size:"13"},{name:i("Small"),slug:"title-small",size:"16"},{name:i("Normal"),slug:"title-normal",size:"18"},{name:i("Medium"),slug:"title-medium",size:"24"},{name:i("Large"),slug:"title-large",size:"28"},{name:i("X-Large"),slug:"title-extra-large",size:"32"}],value:this.props.attributes.titleFontSize,fallbackFontSize:"18",onChange:this.onChangeTitleFontSize}),wp.element.createElement(u,{label:"Title Alignment",value:this.props.attributes.alignTitle,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:this.onChangeAlignTitle})),wp.element.createElement(c,{title:"Text Styles",initialOpen:!1},wp.element.createElement(g,{fontSizes:[{name:i("X-Small"),slug:"title-extra-small",size:"12"},{name:i("Small"),slug:"title-small",size:"14"},{name:i("Normal"),slug:"title-normal",size:"16"},{name:i("Medium"),slug:"title-normal",size:"18"},{name:i("Large"),slug:"title-large",size:"20"},{name:i("X-Large"),slug:"title-extra-large",size:"24"}],value:this.props.attributes.textFontSize,fallbackFontSize:"16",onChange:this.onChangeTextFontSize}),wp.element.createElement(u,{label:"Text Alignment",value:this.props.attributes.alignText,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:this.onChangeAlignText})),wp.element.createElement(c,{title:"Button Settings",initialOpen:!1},wp.element.createElement(p,{placeholder:"Read More Link Text",label:"label for 'read more' button",value:this.props.attributes.readMoreText,onChange:this.onChangeReadMoreText,keepPlaceholderOnFocus:!0}),wp.element.createElement(g,{fontSizes:[{name:i("X-Small"),slug:"button-extra-small",size:"10"},{name:i("Small"),slug:"button-mall",size:"12"},{name:i("Normal"),slug:"button-normal",size:"14"},{name:i("Medium"),slug:"button-medium",size:"15"},{name:i("Large"),slug:"button-large",size:"16"},{name:i("X-Large"),slug:"button-extra-large",size:"18"}],value:this.props.attributes.buttonFontSize,fallbackFontSize:"14",onChange:this.onChangeButtonFontSize}),wp.element.createElement(u,{label:"Button Type",value:this.props.attributes.buttonType,options:[{label:"Outlined",value:"outlined"},{label:"Solid",value:"solid"},{label:"Inline Text",value:"inline"}],onChange:this.onChangeButtonType}),"inline"!==this.props.attributes.buttonType&&wp.element.createElement(u,{label:"Button Alignment",value:this.props.attributes.alignButton,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:this.onChangeAlignButton}),wp.element.createElement(b,{label:"Button Border Radius",value:this.props.attributes.buttonBorderRadius,onChange:this.onChangeButtonBorderRadius,min:0,max:20}),"outlined"===this.props.attributes.buttonType&&wp.element.createElement(b,{label:"Button Border Size",value:this.props.attributes.buttonBorder,onChange:this.onChangeButtonBorder,min:0,max:10}),"outlined"===this.props.attributes.buttonType?wp.element.createElement(w,{title:i("Button Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.buttonColor,onChange:this.onChangeButtonColor,label:i("Button Text Color","blueprint-blocks")},{value:this.props.attributes.buttonBorderColor,onChange:this.onChangeButtonBorderColor,label:i("Button Border Color","blueprint-blocks")}]}):wp.element.createElement(w,{title:i("Button Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.buttonColor,onChange:this.onChangeButtonColor,label:i("Button Text Color","blueprint-blocks")},{value:this.props.attributes.buttonBG,onChange:this.onChangeButtonBG,label:i("Button Background Color","blueprint-blocks")}]})),wp.element.createElement(c,{title:"Image Settings",initialOpen:!1},wp.element.createElement(m,{label:"Show Featured Image?",checked:!!this.props.attributes.showImg,onChange:this.onChangeShowImg,className:"link-type"}),this.props.attributes.showImg&&wp.element.createElement("div",null,wp.element.createElement(b,{label:"Image Border Radius",help:"increase to round edges of image",value:this.props.attributes.roundImg,onChange:this.onChangeRoundImg,className:"display-block",min:0,max:50}),wp.element.createElement(b,{label:"Image Border",help:"set to 0 for no border",value:this.props.attributes.imgBorder,onChange:this.onChangeImgBorder,className:"display-block",min:0,max:20})),this.props.attributes.imgBorder&&wp.element.createElement(w,{title:i("Image Border","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.imgBorderColor,onChange:this.onChangeImgBorderColor,label:i("Image Border Color","blueprint-blocks")}]})),wp.element.createElement(w,{title:i("Colors","blueprint-blocks"),initialOpen:!1,colorSettings:[{value:this.props.attributes.color,onChange:this.onChangeColor,label:i("Text Color","blueprint-blocks")},{value:this.props.attributes.backgroundColor,onChange:this.onChangeBackgroundColor,label:i("Background Color","blueprint-blocks")}]})))}},{key:"onChangeSelectCategory",value:function(e){var t=this.state.categories.find(function(t){return t.id==parseInt(e)});this.setState({selectedCategory:parseInt(e),category:t}),this.props.setAttributes({selectedCategory:parseInt(e),displaySettings:{showMeta:"hide",ignoreSticky:"show",showImg:"show"(s),showExcerpts:"show"}})}},{key:"onChangeTitleFontSize",value:function(e){void 0!==e?this.props.setAttributes({titleFontSize:e}):this.props.setAttributes({titleFontSize:"18"})}},{key:"onChangeTextFontSize",value:function(e){void 0!==e?this.props.setAttributes({textFontSize:e}):this.props.setAttributes({textFontSize:"16"})}},{key:"onChangeIncludeSticky",value:function(){this.props.attributes.ignoreSticky?this.props.setAttributes({ignoreSticky:!1}):this.props.setAttributes({ignoreSticky:!0})}},{key:"onChangeShowExcerpts",value:function(){this.props.attributes.showExcerpts?this.props.setAttributes({showExcerpts:!1}):this.props.setAttributes({showExcerpts:!0})}},{key:"onChangeShowMeta",value:function(){this.props.attributes.showMeta?this.props.setAttributes({showMeta:!1}):this.props.setAttributes({showMeta:!0})}},{key:"onChangeShowImg",value:function(){this.props.attributes.showImg?this.props.setAttributes({showImg:!1}):this.props.setAttributes({showImg:!0})}},{key:"onChangeAlignTitle",value:function(e){this.props.setAttributes({alignTitle:e})}},{key:"onChangeAlignText",value:function(e){this.props.setAttributes({alignText:e})}},{key:"onChangeColor",value:function(e){this.props.setAttributes({color:e})}},{key:"onChangeBackgroundColor",value:function(e){this.props.setAttributes({backgroundColor:e})}},{key:"onChangeImgBorderColor",value:function(e){this.props.setAttributes({imgBorderColor:e})}},{key:"onChangeRoundImg",value:function(e){this.props.setAttributes({roundImg:e})}},{key:"onChangeNumberPosts",value:function(e){this.props.setAttributes({numberPosts:e})}},{key:"onChangePostsPerRow",value:function(e){this.props.setAttributes({postsPerRow:e})}},{key:"onChangeImgBorder",value:function(e){this.props.setAttributes({imgBorder:e})}},{key:"onChangeReadMoreText",value:function(e){this.props.setAttributes({readMoreText:e})}},{key:"onChangeButtonType",value:function(e){this.props.setAttributes({buttonType:e})}},{key:"onChangeButtonColor",value:function(e){this.props.setAttributes({buttonColor:e})}},{key:"onChangeButtonBorderColor",value:function(e){this.props.setAttributes({buttonBorderColor:e})}},{key:"onChangeButtonBG",value:function(e){this.props.setAttributes({buttonBG:e})}},{key:"onChangeButtonBorder",value:function(e){this.props.setAttributes({buttonBorder:e})}},{key:"onChangeButtonFontSize",value:function(e){void 0!==e?this.props.setAttributes({buttonFontSize:e}):this.props.setAttributes({buttonFontSize:"14"})}},{key:"onChangeButtonBorderRadius",value:function(e){this.props.setAttributes({buttonBorderRadius:e})}},{key:"onChangeAlignButton",value:function(e){this.props.setAttributes({alignButton:e})}},{key:"onChangeSectionTitle",value:function(e){this.props.setAttributes({sectionTitle:e})}},{key:"onChangeSectionTitleSize",value:function(e){void 0!==e?this.props.setAttributes({sectionTitleSize:e}):this.props.setAttributes({sectionTitleSize:"20"})}},{key:"previewButton",value:function(){var e="btn-wrap";e+=" align-"+this.props.attributes.alignButton;var t="read-more-link button button-primary",o={};this.props.attributes.buttonBG&&(t="read-more-link button",o.backgroundColor=this.props.attributes.buttonBG),this.props.attributes.buttonColor&&(o.color=this.props.attributes.buttonColor),this.props.attributes.buttonBorderRadius>0&&(o.borderRadius=this.props.attributes.buttonBorderRadius+"px"),o.fontSize=this.props.attributes.buttonFontSize+"px";var n={backgroundColor:"transparent"};this.props.attributes.buttonColor&&(n.color=this.props.attributes.buttonColor),this.props.attributes.buttonBorderRadius>0&&(n.borderRadius=this.props.attributes.buttonBorderRadius+"px"),this.props.attributes.buttonBorder>0&&(n.borderWidth=this.props.attributes.buttonBorder+"px",n.borderStyle="solid",n.borderColor=this.props.attributes.buttonBorderColor),n.fontSize=this.props.attributes.buttonFontSize+"px";var r="";return"solid"===this.props.attributes.buttonType?r=o:(r=n,t="read-more-link button button-outlined"),r.height="auto",r.lineHeight="2em",r.paddingTop="0",r.paddingBottom="0",r.textShadow="none",wp.element.createElement("div",{class:e},wp.element.createElement("a",{className:t,style:r},this.props.attributes.readMoreText))}},{key:"previewPost",value:function(){this.props.attributes.showExcerpts,this.props.attributes.showMeta,this.props.attributes.showImg;var e=this.props.attributes.roundImg,t=this.props.attributes.imgBorder,o=this.props.attributes.imgBorderColor,n=this.props.attributes.backgroundColor,r=this.props.attributes.color,s=this.props.attributes.textFontSize,i=this.props.attributes.titleFontSize,a=this.props.attributes.alignTitle,l="blueprint-recent-posts";n&&(l+=" has-background");var u={color:r,backgroundColor:n,fontSize:s+"px",textAlign:this.props.attributes.alignText},p={};t>0&&(p.borderSize=t+"px",p.borderStyle="solid",p.borderColor=o),e>0&&(p.borderRadius=e+"%");var c={color:r,backgroundColor:n,fontSize:i+"px",textAlign:a},h=["published 2/4/30 by Virginia Woolf","published 6/16/82 by Toni Morrison","published 4/13/20 by Willa Cather","published 9/2/42 by Zora Neale Hurston","published 8/17/69 by Harper Lee","published 4/18/75 by Simone de Beauvoir"],b=h[Math.floor(Math.random()*h.length)],m=["Inceptos Justo Ornare Cras","Egestas Ultricies Malesuada","Elit Ipsum Euismod Etiam","Pellentesque Sollicitudin","Justo Tortor Pellentesque"],g=m[Math.floor(Math.random()*m.length)],d="Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Donec ullamcorper nulla non metus auctor fringilla. Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit sit amet non magna.",k=["http://lorempixel.com/400/400/cats/1","http://lorempixel.com/400/400/cats/6","http://lorempixel.com/400/400/cats/3","http://lorempixel.com/400/400/cats/4","http://lorempixel.com/400/400/cats/5","http://lorempixel.com/400/400/cats/7","http://lorempixel.com/400/400/cats/8","http://lorempixel.com/400/400/cats/9","http://lorempixel.com/400/400/cats/10"],C=k[Math.floor(Math.random()*k.length)],w=!1,f=!0;return"inline"===this.props.attributes.buttonType&&(w=!0,f=!1),wp.element.createElement("div",{className:l,style:u},this.props.attributes.showImg&&wp.element.createElement("div",{class:"image-feature"},wp.element.createElement("img",{src:C,style:p})),wp.element.createElement("h3",{className:"post-title",style:c},g),this.props.attributes.showMeta&&wp.element.createElement("div",{className:"post-meta"},b),this.props.attributes.showExcerpts&&w&&wp.element.createElement("div",{className:"excerpt"},d,wp.element.createElement("a",{className:"read-more-link",style:u},"Read More »")),this.props.attributes.showExcerpts&&f&&wp.element.createElement("div",{className:"excerpt"},d,wp.element.createElement(this.previewButton,null)))}},{key:"render",value:function(){var e=[{value:null,label:i("Select A Category (optional) ")}];switch(this.props.className+=" loading",this.state.categories.length>0?this.state.categories.forEach(function(t){e.push({value:t.id,label:t.name})}):"No Post Categories found.",void 0!==this.state.category&&this.state.category.hasOwnProperty("name")?this.props.className+=" has-category":this.props.className+=" no-category",void 0!==this.props.attributes.category&&"block-preview active-preview",this.props.attributes.postsPerRow){case 1:this.props.className+=" one-across";break;case 2:this.props.className+=" two-across";break;case 4:this.props.className+=" four-across";break;case 5:this.props.className+=" five-across";break;default:this.props.className+=" three-across"}for(var t={color:this.props.attributes.color,backgroundColor:this.props.attributes.backgroundColor,fontSize:this.props.attributes.sectionTitleSize+"px"},o=[],n=this.props.attributes.numberPosts,r=0;r<n;r++)o.push(this.previewPost());return wp.element.createElement("div",{className:this.props.className},this.getInspectorControls(e),wp.element.createElement("h2",{className:"section-title"},wp.element.createElement("span",{className:"title",style:t},this.props.attributes.sectionTitle)),wp.element.createElement("div",{className:"inner"},o))}}]),t}());a("blueprint-blocks/recent-posts",{title:i("Recent Posts"),icon:"admin-post",category:"blueprint-blocks",keywords:[i("Posts"),i("Post Grid")],supports:{align:["center","wide","full"]},attributes:{selectedCategory:{type:"integer"},ignoreSticky:{type:"boolean",default:!1},numberPosts:{type:"integer",default:3},postsPerRow:{type:"integer",default:3},showExcerpts:{type:"boolean",default:!0},showMeta:{type:"boolean",default:!1},showImg:{type:"boolean",default:!0},roundImg:{type:"integer",default:50},imgBorder:{type:"integer",default:2},backgroundColor:{type:"string"},color:{type:"string"},imgBorderColor:{type:"string"},titleFontSize:{type:"integer",default:"18"},textFontSize:{type:"integer",default:"16"},alignText:{type:"string",default:"center"},alignTitle:{type:"string",default:"center"},readMoreText:{type:"string",default:"Read More"},buttonType:{type:"string",default:"outlined"},buttonColor:{type:"string"},buttonBG:{type:"string"},buttonBorderColor:{type:"string"},buttonBorder:{type:"integer",default:"2"},buttonFontSize:{type:"integer",default:"14"},buttonBorderRadius:{type:"integer",default:"0"},alignButton:{type:"string",default:"center"},sectionTitle:{type:"string",default:"Latest from the Blog"},sectionTitleSize:{type:"integer",default:"20"}},edit:f,save:function(e){return null}})}]);